<!DOCTYPE html>
<html>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="ivt2.css">
    <head>
        <title>ИВТ-171</title>
    </head>
    <body vlink="#e0e0e0" link="#e0e0e0">
        <div class="now">
            <table cellspacing="0">
            	<tr>
            	  <td class="texttable1">Текущая неделя</td>
                  <td class="texttable2" id='rasp'> </td>
            	</tr>
                <tr class="black">
                  <td  class="whitetable">сейчас идет:</td>
                  <td class="whitetable" id='now'></td>
                </tr>
                <tr>
            	  <td class="texttablemidle">до конца осталось:</td>
                  <td class="texttablemidle" id='end'> </td>
            	</tr>
             <tr class="whitetable" >
                 <td class="texttable4">следующая пара:</td>
                 <td class="textable3" id='next'></td>
            </tr>
        </table>
        </div>
        <div class="alpha">
        <!--Пондельник-->
        <div class="az" data-day="1">
            <table cellspacing="0">
                <tr>
                    <td colspan="3" class="b">ПОНЕДЕЛЬНИК</td>
                </tr>

                <tr class="dark" para="1">
                    <td class="blue">10<sup>10 </sup></td>
                    <td class="text"></td>
                </tr>
                <tr class="white" para="2">
                    <td class="blue">12<sup>00</sup></td>
                    <td class="text"></td>
                </tr>
                <tr class="dark" para="3">
                    <td class="blue">13<sup>40</sup></td>
                    <td class="text"></td>
                </tr>
                <tr class="white2" para="4">
                    <td rowspan="2" class="blue">15<sup>20</sup></td>
                    <td colspan="2" class="text2"></td>
                </tr>
                <tr class="white2" para="4">
                    <td colspan="2" class="text2"></td>
                </tr>
                <tr class="dark" para="5">
                    <td class="blue">17<sup>00</sup></td>
                    <td class="text"></td>
                </tr>
            </table>
        </div>
        <!--Вторник-->
        <div class="a" data-day="2">
            <table cellspacing="0">
                <tr>
                    <td colspan="2" class="b">вторник</td>
                </tr>
				<tr class="white" para="0">
                    <td class="blue">8<sup>30</sup></td>
                    <td class="text"></td>
                </tr>



                <tr class="dark" para="1">
                    <td class="blue">10<sup>10 </sup></td>
                    <td class="text">Защита информации (лаб), ст.пр. Астахов А.С., дистанц.</td>
                </tr>



                <tr class="white" para="2">
                    <td class="blue">12<sup>00</sup></td>
                    <td class="text">Безопасность жизнедеятельности (л), проф. Боровков Д.П., дистанц.</td>
                </tr>



                <tr class="dark" para="3">
                    <td class="blue">13<sup>40</sup></td>
                    <td class="text">Защита информации (л), ст.преп. Бумагин В.В., дистанц.</td>
                </tr>



                <tr class="white2" para="4">
                    <td rowspan="2" class="blue">15<sup>20</sup></td>
                    <td colspan="2" class="text3"></td>
                </tr>



                <tr class="white2" para="4">
                    <td colspan="2" class="text2"></td>
                </tr>
            </table>
        </div>
        <!--Cреда-->
        <div class="a" data-day="3">
            <table cellspacing="0">
                <tr>
                    <td colspan="2" class="b">среда</td>
                </tr>
                <tr class="white2" para="3">
                    <td rowspan="2" class="blue">13<sup>40</sup></td>
                    <td colspan="2" class="text"></td>
                </tr>
                <tr class="white2" para="3">
                    <td colspan="2" class="text2">Методологии и риски реализации проектов (л), доц. Щелоков Р.В., 3-02 М</td>
                </tr>



                <tr class="dark2" para="4">
                    <td rowspan="2" class="blue">15<sup>20</sup></td>
                    <td colspan="2" class="text">КВ Экономико-математическое моделирование (л), ст.пр. Солодков С.А., 3-02 М</td>
                </tr>
                <tr class="dark2" para="4">
                    <td colspan="2" class="text2">Методологии и риски реализации проектов (л), доц. Щелоков Р.В., 3-02 М</td>
                </tr>



                <tr class="white2" para="5">
                    <td rowspan="2" class="blue">17<sup>00</sup></td>
                    <td colspan="2" class="text">Методологии и риски реализации проектов (пр), доц. Щелоков Р.В., 2-04 М</td>
                </tr>
                <tr class="white2" para="4">
                    <td colspan="2" class="text2"></td>
                </tr>



                <tr class="dark" para="6">
                    <td class="blue">18<sup>40</sup></td>
                    <td class="text"></td>
                </tr>



            </table>
        </div>
        <!--четверг-->
        <div class="a" data-day="4">
            <table cellspacing="0">
                <tr>
                    <td colspan="2" class="b">четверг</td>
                </tr>



                <tr class="white2" para="1">
                    <td rowspan="2" class="blue">10<sup>10</sup></td>
                    <td colspan="2" class="text"></td>
                </tr>
                <tr class="white2" para="1">
                    <td colspan="2" class="text2">КВ Экономико-математическое моделирование (пр), ст.пр. Солодков С.А., 2-04 М</td>
                </tr>



                <tr class="dark2" para="2">
                    <td rowspan="2" class="blue">12<sup>00</sup></td>
                    <td colspan="2" class="text"></td>
                </tr>
                <tr class="dark2" para="2">
                    <td colspan="2" class="text2">КВ Экономико-математическое моделирование (пр), ст.пр. Солодков С.А., 2-04 М</td>
                </tr>


                <tr class="white" para="3">
                    <td class="blue">13<sup>40</sup></td>
                    <td colspan="2", class="text3"></td>
			        	</tr>



                <tr class="dark" para="4">
                    <td class="blue">15<sup>20</sup></td>
                    <td class="text"></td>
                </tr>


                <tr class="white" para="5">
                    <td class="blue">17<sup>00</sup></td>
                    <td class="text"></td>
                </tr>

            </table>
        </div>
        <!--пятница-->
        <div class="a" data-day="5">
            <table cellspacing="0">
                <tr>
                    <td colspan="2" class="b">пятница</td>
                </tr>



                <tr class="white2" para="2">
                    <td rowspan="2" class="blue">12<sup>00</sup></td>
                    <td colspan="2" class="text">Администрирование локальных сетей (л), доц. Дьяконова Т.А., 3-02 М</td>
                </tr>
                <tr class="white2" para="2">
                    <td colspan="2" class="text2">Параллельное программирование (лаб), ст.пр. Титов А.В., 1-05 М</td>
                </tr>



                <tr class="dark2" para="3">
                    <td rowspan="2" class="blue">13<sup>40</sup></td>
                    <td colspan="2" class="text">Параллельное программирование (л), доц. Дьяконова Т.А., 3-02 М</td>
                </tr>
                <tr class="dark2" para="3">
                    <td colspan="2" class="text2">Параллельное программирование (лаб), ст.пр. Титов А.В., 1-05 М</td>
                </tr>


                <tr class="white2" para="4">
                    <td rowspan="2" class="blue">15<sup>20</sup></td>
                    <td colspan="2" class="text">КВ Технологии обработки информации (л), доц. Хохлова С.С., 3-02 М</td>
                </tr>
                <tr class="white2" para="4">
                    <td colspan="2" class="text2">КВ Технологии обработки информации (лаб), доц. Хохлова С.С., 1-05 М</td>
                </tr>


                <tr class="dark2" para="5">
                    <td rowspan="2" class="blue">17<sup>00</sup></td>
                    <td colspan="2" class="text"></td>
                </tr>
                <tr class="dark2" para="5">
                    <td colspan="2" class="text2">КВ Технологии обработки информации (лаб), доц. Хохлова С.С., 1-05 М</td>
                </tr>
            </table>
        </div>


        	<div class="a" data-day="6">
            <table cellspacing="0">
                <tr>
                    <td colspan="2" class="b">суббота</td>
                </tr>



                <tr class="white2" para="3">
                    <td rowspan="2" class="blue">13<sup>40</sup></td>
                    <td colspan="2" class="text"></td>
                </tr>
                <tr class="white2" para="3">
                    <td colspan="2" class="text2">Администрирование локальных сетей (лаб) ст.пр. Бумагин В.В., </td>
                </tr>



                <tr class="dark2" para="4">
                    <td rowspan="2" class="blue">15<sup>20</sup></td>
                    <td colspan="2" class="text">Компьютерный практикум (лаб), доц. Сиволобов С.В., 1-01 М</td>
                </tr>
                <tr class="dark2" para="4">
                    <td colspan="2" class="text2">Администрирование локальных сетей (лаб) ст.пр. Бумагин В.В.,</td>
                </tr>


                <tr class="white2" para="5">
                    <td rowspan="2" class="blue">17<sup>00</sup></td>
                    <td colspan="2" class="text">Компьютерный практикум (лаб), доц. Сиволобов С.В., 1-01 М</td>
                </tr>
                <tr class="white2" para="5">
                    <td colspan="2" class="text2"></td>
                </tr>


                <tr class="dark2" para="6">
                    <td rowspan="2" class="blue">18<sup>40</sup></td>
                    <td colspan="2" class="text2"></td>
                </tr>
                <tr class="dark2" para="6">
                    <td colspan="2" class="text2"></td>
                </tr>


            </table>
        </div>
        <div class="me">created by <a href="https://vk.com/emlnoff">Egor Emelyanov</a></div>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="http://netdna.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
        <script>
            var curr_day = (new Date()).getDay() ;
            var d = new Date();
            var h = (new Date()).getHours();
            var m = (new Date()).getMinutes();
            var greeting;
            var k;
            var next;
            var schdle = [
            [8, 30, 10, 0  ],
            [10, 10, 11, 40],
            [12, 0, 13, 30 ],
            [13, 40, 15, 10],
            [15, 20, 16, 50],
            [17, 0, 18, 30]
            ];
            var rasp = [
            /*пн*/['','','','','','',''],
            /*вт*/['','Защита информации (лаб), ст.пр. Астахов А.С.,','Безопасность жизнедеятельности (л), проф. Боровков Д.П.,','Защита информации (л), ст.преп. Бумагин В.В.,','','',''],
            /*ср*/['','','','Методологии и риски реализации проектов (л), доц. Щелоков Р.В., 3-02 М','КВ Экономико-математическое моделирование/Методологии и риски реализации проектов','Методологии и риски реализации проектов (пр)',''],
            /*чт*/['','КВ Экономико-математическое моделирование (пр), ст.пр. Солодков С.А., 2-04 М','КВ Экономико-математическое моделирование (пр), ст.пр. Солодков С.А., 2-11 М','','','',''],
            /*пт*/['','','Администрирование локальных сетей/Параллельное программирование','Параллельное программирование (л)/(лаб)','КВ Технологии обработки информации (л)/(лаб)','КВ Технологии обработки информации (лаб), доц. Хохлова С.С., 1-05 М','',''],
            /*сб*/['','','','Администрирование локальных сетей (лаб)','Компьютерный практикум (лаб)/Администрирование локальных сетей (лаб)','Компьютерный практикум (лаб) (числ)','']
            ];
                for(var i = 1; i<=6;i++)
                {
                    if(curr_day==i)
                    {
                        $('[data-day='+i+']').addClass("current_day");
                    }
                }
                for(var j = 0; j < schdle.length; j++)
                {
                    var all_mins_cur = h * 60 + m,
                        all_mins_sch = [];
                        all_mins_sch[0] = schdle[j][0] * 60 + schdle[j][1];
                        all_mins_sch[1] = schdle[j][2] * 60 + schdle[j][3];
                    if(all_mins_sch[0] <= all_mins_cur && all_mins_cur <= all_mins_sch[1])
                    {
                         $('[para='+j+']').addClass("less");
                    }
                }

                k=curr_day;
                var time;
                if( all_mins_cur >= 480  && all_mins_cur <510)
                {
                    greeting = '';
                    next =rasp[k-1][0];

                }
                else if (all_mins_cur >= 510  && all_mins_cur < 600 )/*1 пара*/
                {
                greeting = rasp[k-1][0];
                next =rasp[k-1][1];
                time = 600-all_mins_cur;
                }
                else if (all_mins_cur >=600 && all_mins_cur <610)/*ПЕРЕМЕНА*/
                {
                greeting = 'ПЕРЕМЕНА';
                next =rasp[k-1][1];
                time = '';
                }
                else if (all_mins_cur >=610 && all_mins_cur <700)/*2 пара*/
                {
                greeting = rasp[k-1][1];
                next =rasp[k-1][2];
                time = 700-all_mins_cur;
                }
                 else if (all_mins_cur >=700 && all_mins_cur <720)/*ПЕРЕМЕНА*/
                {
                greeting = 'ПЕРЕМЕНА';
                next =rasp[k-1][2];
                time = '';
                }
                else if (all_mins_cur >=720 && all_mins_cur <810 )/*3пара*/
                {
                 greeting = rasp[k-1][2];
                next =rasp[k-1][3];
                time = 810 - all_mins_cur;
                }
                 else if (all_mins_cur >=810 && all_mins_cur <820)/*ПЕРЕМЕНА*/
                {
                greeting = 'ПЕРЕМЕНА';
                next =rasp[k-1][3];
                time = '';
                }
                 else if (all_mins_cur >= 820 && all_mins_cur <910)/*4 пара*/
                {
                 greeting = rasp[k-1][3];
                 next =rasp[k-1][4];
                 time = 910-all_mins_cur;
                }
                  else if (all_mins_cur >=910 && all_mins_cur <920)/*ПЕРЕМЕНА*/
                {
                greeting = 'ПЕРЕМЕНА';
                next =rasp[k-1][4];
                time = '';
                }
               else if (all_mins_cur >= 920 && all_mins_cur < 1010)/*5 пара*/
                {
                greeting = rasp[k-1][4];
                next =rasp[k-1][5];
                time =1010 -all_mins_cur;
                }
                  else if (all_mins_cur >=1010 && all_mins_cur <1020)/*ПЕРЕМЕНА*/
                {
                greeting = 'ПЕРЕМЕНА';
                next =rasp[k-1][5];
                time = '';
                }
                else if (all_mins_cur >= 1020 && all_mins_cur < 1110)/*6 пара*/
                {
                greeting = rasp[k-1][5];
                next =rasp[k-1][6];
                time =1110 -all_mins_cur;
                }
              else if (all_mins_cur >= 1 && all_mins_cur < 60)
                {
                greeting = "че не спишь блин блинский?!";
                next ="взросленький уже?";
                }
               else{
               greeting = "";
               next="";
               time='';
               }
               document.getElementById('next').innerHTML = next;
               document.getElementById('now').innerHTML = greeting;
               if(time<20 && time>= 11)
               {
               	document.getElementById('end').innerHTML = time + ' минут';
               }

               else if (time % 10 == 1)
               {
               	document.getElementById('end').innerHTML = time + ' минута';
               }
               else if (time % 10 == 2 || time % 10 == 3 || time % 10 == 4 )
               {
               	document.getElementById('end').innerHTML = time + ' минуты';
               }
               else if (time != '')
               {
               	document.getElementById('end').innerHTML = time + ' минут';
               }



              </script>
             <!-- <script>

				var currentDateTime = new Date();// текущее дата/время

				var startTimeOfCurrentYear = (new Date(currentDateTime.getFullYear(), 0, 1)).getTime();// время начала текущего года, в миллисекундах

				var currentTime = currentDateTime.getTime();// текущее время в миллисекундах

				var pastTimeOfStartCurrentYear = currentTime - startTimeOfCurrentYear;// прошедшее время с начала года, в миллисекундах

				var hourOfMillisecs = 3600000;// количество миллисекунд в одном часе

				var hoursOfOneWeek = 168;// количество часов в одной неделе

				var nweek = (Math.floor((pastTimeOfStartCurrentYear / hourOfMillisecs / hoursOfOneWeek).toFixed(3)));
				//alert(nweek);
				if ((nweek&1) == 0)
				{
   				document.getElementById('rasp').innerHTML = ("числитель");
				} else {
			    document.getElementById('rasp').innerHTML = ("знаменатель");
				}
</script>-->
<script>
Date.prototype.getWeek = function (dowOffset) {
/*getWeek() was developed by Nick Baicoianu at MeanFreePath: http://www.meanfreepath.com */

    dowOffset = typeof(dowOffset) == 'int' ? dowOffset : 0; //default dowOffset to zero
    var newYear = new Date(this.getFullYear(),0,1);
    var day = newYear.getDay() - dowOffset; //the day of week the year begins on
    day = (day >= 0 ? day : day + 7);
    var daynum = Math.floor((this.getTime() - newYear.getTime() -
    (this.getTimezoneOffset()-newYear.getTimezoneOffset())*60000)/86400000) + 1;
    var weeknum;
    //if the year starts before the middle of a week
    if(day < 4) {
        weeknum = Math.floor((daynum+day-1)/7) + 1;
        if(weeknum > 52) {
            nYear = new Date(this.getFullYear() + 1,0,1);
            nday = nYear.getDay() - dowOffset;
            nday = nday >= 0 ? nday : nday + 7;
            /*if the next year starts before the middle of
              the week, it is week #1 of that year*/
            weeknum = nday < 4 ? 1 : 53;
        }
    }
    else {
        weeknum = Math.floor((daynum+day)/7);
    }

    return weeknum;
};

var mydate = new Date();
//alert(mydate.getWeek());
if (mydate.getWeek()%2==1)
				{
   				document.getElementById('rasp').innerHTML = ("знаменатель");
				} else {
			    document.getElementById('rasp').innerHTML = ("числитель");
				}

</script>
    </body>
</html>
